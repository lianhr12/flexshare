!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.FlexShare=t()}(this,function(){"use strict";var e={qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url={url}&title={title}&pics={pic}&summary={desc}",weibo:"http://service.weibo.com/share/share.php?url={url}&title={title}&pic={pic}&searchPic=false",tqq:"http://share.v.t.qq.com/index.php?c=share&a=index&url={url}&title={title}&appkey=801cf76d3cfc44ada52ec13114e84a96",renren:"http://widget.renren.com/dialog/share?resourceUrl={url}&srcUrl={url}&title={title}&description={desc}",douban:"http://www.douban.com/share/service?href={url}&name={title}&text={desc}&image={pic}",facebook:"https://www.facebook.com/sharer/sharer.php?u={url}&t={title}&pic={pic}",twitter:"https://twitter.com/intent/tweet?text={title}&url={url}",linkedin:"https://www.linkedin.com/shareArticle?title={title}&summary={desc}&mini=true&url={url}&ro=true",weixin:"http://qr.liantu.com/api.php?text={url}",qq:"http://connect.qq.com/widget/shareqq/index.html?url={url}&desc={title}&pics={pic}",ishou:"http://i.sohu.com/a/app/mblog/add.htm?link={url}&title={title}",tieba:"http://tieba.baidu.com/f/commit/share/openShareApi?url={url}&title={title}&desc={desc}&pic={pic}",google:"https://plus.google.com/share?url={url}",vk:"https://vk.com/share.php?url={url}&title={title}&description={desc}"};var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}();return function(){function i(e){t(this,i);var r={title:this.getPageShareTitle(),desc:this.getPageShareContent(),url:this.getPageShareUrl(),pic:this.getPageSharePic(),isOpenDialog:!1,dialog:{width:570,height:520}};this.options=function(e,t){for(var r in t)e[r]=t[r];return e}(r,e)}return r(i,[{key:"socialShare",value:function(t,r){if(e[t]){var i=e[t],o=this.shareUrlProccess(i);!function(){var e=navigator.userAgent;if(e.match(/AppleWebKit.*Mobile.*/)||e.match(/AppleWebKit/)){var t=e.toLowerCase();if(t.indexOf("android")>-1||t.indexOf("iphone")>-1||t.indexOf("ipad")>-1||t.indexOf("windows phone")>-1||t.indexOf("blackberry")>-1||t.indexOf("hp-tablet")>-1||t.indexOf("symbian")>-1||t.indexOf("phone")>-1)return!0}return!1}()&&this.options.isOpenDialog?(r&&r(),this.showDialog(o)):(r&&r(),window.location.href=o)}else console.error("Please pass in the correct social platform.")}},{key:"shareUrlProccess",value:function(e){return e?e=e.replace("{title}",encodeURIComponent(this.options.title)).replace("{desc}",encodeURIComponent(this.options.desc)).replace("{url}",encodeURIComponent(this.options.url)).replace("{pic}",encodeURIComponent(this.options.pic)):""}},{key:"showDialog",value:function(e){var t=this.options.dialog.height,r=this.options.dialog.width,i=(window.screen.availHeight-30-t)/2,o=(window.screen.availWidth-10-r)/2;window.open(e,"","width="+r+",height="+t+",top="+i+",left="+o)}},{key:"getPageShareTitle",value:function(){return document.querySelector('meta[property="og:title"]')&&document.querySelector('meta[property="og:title"]').getAttribute("content")||document.querySelector('meta[itemprop="name"]')&&document.querySelector('meta[itemprop="name"]').getAttribute("content")||document.title||""}},{key:"getPageShareContent",value:function(){return document.querySelector('meta[property="og:description"]')&&document.querySelector('meta[property="og:description"]').getAttribute("content")||document.querySelector('meta[itemprop="description"]')&&document.querySelector('meta[itemprop="description"]').getAttribute("content")||document.querySelector('meta[name="description"]')&&document.querySelector('meta[name="description"]').getAttribute("content")||""}},{key:"getPageShareUrl",value:function(){return document.querySelector('meta[property="og:url"]')&&document.querySelector('meta[property="og:url"]').getAttribute("content")||document.querySelector('meta[itemprop="url"]')&&document.querySelector('meta[itemprop="url"]').getAttribute("content")||window.location.href||""}},{key:"getPageSharePic",value:function(){return document.querySelector('meta[property="og:image"]')&&document.querySelector('meta[property="og:image"]').getAttribute("content")||document.querySelector('meta[itemprop="image"]')&&document.querySelector('meta[itemprop="image"]').getAttribute("content")||""}}]),i}()});
